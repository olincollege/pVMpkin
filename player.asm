.ORIG x1000
    LD R0, AUDIO_START
    LD R1, AUDIO_END
    LD R6, DELAY_SKIP_COUNT
LOOP
    LDR R2, R0, #0
    STI R2, MR_AUDIO_DATA
    ADD R0, R0, #1

    NOT R3, R0
    ADD R3, R3, #1
    ADD R4, R3, R1     

    BRz RESET

    ADD R6, R6, #-1
    
    BRn DELAY

    BR LOOP

RESET
    LD R0, AUDIO_START
    BR LOOP

DELAY
    LD R5, DELAY_COUNT
    LD R6, DELAY_SKIP_COUNT
DELAY_LOOP
    ADD R5, R5, #-1
    BRzp DELAY_LOOP

    BR LOOP

AUDIO_START .FILL x1500
AUDIO_END .FILL xEC40
MR_AUDIO_DATA .FILL xFE04
DELAY_SKIP_COUNT .FILL #100
DELAY_COUNT .FILL #10
.END
